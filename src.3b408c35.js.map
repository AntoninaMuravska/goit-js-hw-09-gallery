{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","refs","galleryListRef","document","querySelector","lightboxRef","galleryImg","btnClose","leftArrowBtn","rightArrowBtn","lightboxOverlay","createGalleryMarkup","images","map","index","join","onImgClick","e","preventDefault","originalImageUrl","target","dataset","source","nodeName","openModal","imgAttributes","alt","Number","classList","add","window","addEventListener","onPressEscape","onPressRightArrow","onPressLeftArrow","closeModal","remove","removeEventListener","src","code","onLightboxEvent","currentTarget","key","onSwitchImg","onLeftArrowClick","onRightArrowClick","setAttribute","step","newIndex","length","insertAdjacentHTML"],"mappings":"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","file":"src.3b408c35.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\n","import './sass/main.scss';\nimport images from './js/gallery-items';\n\nconst refs = {\n    galleryListRef: document.querySelector('.gallery'),\n    lightboxRef: document.querySelector('.js-lightbox'),\n    galleryImg: document.querySelector('.lightbox__image'),\n    btnClose: document.querySelector('.lightbox__button'),\n    leftArrowBtn: document.querySelector('.left-arrow'),\n    rightArrowBtn: document.querySelector('.right-arrow'),\n    lightboxOverlay: document.querySelector('.lightbox__overlay'),\n  };\n  \n  const {\n    galleryListRef,\n    lightboxRef,\n    galleryImg,\n    btnClose,\n    leftArrowBtn,\n    rightArrowBtn,\n    lightboxOverlay,\n  } = refs;\n  \n  const createGalleryMarkup = images\n    .map(({ preview, original, description }, index) => {\n      return `<li class = \"gallery__item\">\n    <a class = \"gallery__link\" href = ${original}>\n    <img\n    class = \"gallery__image\"\n    src = ${preview}\n    data-source=\"${original}\"\n    data-index=\"${(index += 1)}\"\n    alt = ${description}\n    />\n    </a>\n    </li>`;\n    })\n    .join('');\n  \n  galleryListRef.insertAdjacentHTML('beforeend', createGalleryMarkup);\n  \n  galleryListRef.addEventListener('click', onImgClick);\n  \n  function onImgClick(e) {\n    e.preventDefault();\n    const originalImageUrl = e.target.dataset.source;\n    // console.log(originalImageUrl);\n  \n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n    // console.log(e.target.nodeName);\n  \n    openModal();\n    imgAttributes(originalImageUrl, e.target.alt, Number(e.target.dataset.index));\n  }\n  \n  function openModal() {\n    lightboxRef.classList.add('is-open');\n    window.addEventListener('keydown', onPressEscape);\n    window.addEventListener('keydown', onPressRightArrow);\n    window.addEventListener('keydown', onPressLeftArrow);\n  }\n  \n  function closeModal() {\n    lightboxRef.classList.remove('is-open');\n    window.removeEventListener('keydown', onPressEscape);\n    window.removeEventListener('keydown', onPressRightArrow);\n    window.removeEventListener('keydown', onPressLeftArrow);\n    galleryImg.src = '';\n    galleryImg.alt = '';\n  }\n  \n  function onPressEscape(e) {\n    if (e.code === 'Escape') {\n      closeModal();\n    }\n  }\n  \n  btnClose.addEventListener('click', closeModal);\n  leftArrowBtn.addEventListener('click', onLeftArrowClick);\n  rightArrowBtn.addEventListener('click', onRightArrowClick);\n  \n  lightboxOverlay.addEventListener('click', onLightboxEvent);\n  \n  function onLightboxEvent(e) {\n    if (e.target === e.currentTarget) {\n      closeModal();\n    }\n  }\n  \n  function onPressRightArrow(e) {\n    if (e.key === 'ArrowRight') {\n      onSwitchImg(Number(galleryImg.dataset.index), +1);\n    }\n  }\n  \n  function onPressLeftArrow(e) {\n    if (e.key === 'ArrowLeft') {\n      onSwitchImg(Number(galleryImg.dataset.index), -1);\n    }\n  }\n  \n  function onLeftArrowClick() {\n    onSwitchImg(Number(galleryImg.dataset.index), -1);\n  }\n  \n  function onRightArrowClick() {\n    onSwitchImg(Number(galleryImg.dataset.index), +1);\n  }\n  \n  function imgAttributes(src, alt, index) {\n    galleryImg.setAttribute('src', src);\n    galleryImg.setAttribute('alt', alt);\n    galleryImg.setAttribute('data-index', index);\n  }\n  \n  function onSwitchImg(index, step) {\n    let newIndex = index + step;\n  \n    if (newIndex === images.length) {\n      newIndex = 0;\n    } else if (newIndex < 0) {\n      newIndex = images.length - 1;\n    }\n  \n    // console.log(newIndex);\n    imgAttributes(\n      images[newIndex].original,\n      images[newIndex].description,\n      newIndex,\n    );\n  }\n  "]}